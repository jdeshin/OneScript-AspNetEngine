# Templates (Макеты)

## Описание

Библиотека реализует механизм общих макетов, а также макетов в обработках в http-сервисах OneScript, аналогично платформе 1С:Предприятие.

## Отличия от 1С:Предприятие

Использование механизма макетов в OneScript синтаксически не отличается от такового в 1С:Предприятия, однако имеются некоторые отличия:

Функции __ПолучитьОбщийМакет__ и __Обработки.ИмяОбработки.ПолучитьМакет__ поддерживают только макеты типов __ТекстовыйДокумент__, __HTML документ__, __ДвоичныеДанные__.
Для макетов типа __HTMLДокумент__, возвращаемый объект типа __ОболочкаHTMLДокумента__, поддерживает только функцию __ПолучитьТекст__.

## Установка

Установка осуществляется копированием файлов dll в папку Bin веб-приложения.
Затем, необходимо внести изменения в секцию ```<appSettings>```, файла web.config:

### 1. Определяем каталог, в котором находятся модули общих макетов

```bsl
<add key="commonTemplatesPath" value="~/ОбщиеМакеты/" />
```

### 2. Загружаем библиотеку

```bsl
<add key="Templates" value="attachAssembly" />
```

## Общие макеты

Макеты представляют собой файлы с нижеследующей схемой именования:

ИмяМакета.Расширение

Где:

__ИмяМакета__ - имя общего макета,

__Расширение__ - определяет тип макета, __txt__ - для макетов __ТекстовыйДокумент__, __bin__ - для макетов типа __ДвоичныеДанные__, __html__ - для макетов типа __HTML документ__.


### Макеты в обработках

Макеты штатно поддерживаются только в обработках на внутреннем языке. Реализацию макетов в обработках на основе внешних компонент необходимо реализовывать в коде внешней компоненты.

В обработках на основе внутреннего языка, файлы макетов хранятся там-же, где и файлы модулей обработок и имеют нижеследующую схему именования файлов: __ИмяОбработки.Макет.ИмяМакета.Расширение__

где: __ИмяОбработки__ - имя обработки на внутреннем языке, __Макет__ - признак того, что это макет, __ИмяМакета__ - имя макета, по которому происходит обращение из внутреннего языка, __Расширение__ - имеет значение txt, для макетов, типа ТекстовыйДокумент, bin, для макетов типа ДвоичныеДанные и html, для макетов типа HTML документ.


## Использование

```bsl
	МойМакет = Обработки.МояОбработка.ПолучитьМакет("ИмяМакета");
	МойОбщийМакет = ПолучитьОбщийМакет("ИмяОбщегоМакета");
```